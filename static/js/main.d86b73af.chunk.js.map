{"version":3,"sources":["components/Reader/Reader.module.css","components/Publication/Publication.module.css","components/Counter/Counter.module.css","components/Publication/Publication.jsx","components/Counter/Counter.jsx","components/Controls/Controls.jsx","components/Reader/Reader.jsx","components/App/App.jsx","index.js","components/Controls/Controls.module.css"],"names":["module","exports","reader","publication","counter","Publication","_ref","_ref$publications","publications","title","text","react_default","a","createElement","className","style","Counter","actualPage","length","Controls","handlePage","controls","type","button","onClick","name","disabled","Reader","state","parsedItmes","props","Number","queryString","parse","location","search","link","event","target","_this$props","_this","history","setState","prevState","push","Object","objectSpread","pathname","concat","_this$props2","this","linkIndex","prevProps","components_Publication_Publication","components_Counter_Counter","components_Controls_Controls","Component","App","react_router","path","component","to","exact","from","ReactDOM","render","react_router_dom","basename","components_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.d86b73af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__3M6qm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__1BXLP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__3drGW\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Publication.module.css';\n\nconst Publication = ({ publications: { title, text } }) => (\n  <article className={style.publications}>\n    <h2>{title}</h2>\n    <p>{text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  publications: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Counter.module.css';\n\nconst Counter = ({ actualPage, length }) => (\n  <div>\n    <p className={style.counter}>\n      {actualPage}/{length}\n    </p>\n  </div>\n);\n\nCounter.propTypes = {\n  actualPage: PropTypes.number.isRequired,\n  length: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Controls.module.css';\n\nconst Controls = ({ actualPage, handlePage, length }) => (\n  <section className={style.controls}>\n    <button\n      type=\"button\"\n      className={style.button}\n      onClick={handlePage}\n      name=\"previous\"\n      disabled={!actualPage}\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      className={style.button}\n      onClick={handlePage}\n      name=\"next\"\n      disabled={actualPage + 1 === length}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  handlePage: PropTypes.func.isRequired,\n  length: PropTypes.number.isRequired,\n  actualPage: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport queryString from 'query-string';\nimport PropTypes from 'prop-types';\nimport style from './Reader.module.css';\nimport Publication from '../Publication/Publication';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\nimport publications from '../../assets/publications.json';\n\nexport default class Reader extends Component {\n  static propTypes = {\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n    }).isRequired,\n    location: PropTypes.shape({ pathname: PropTypes.string.isRequired })\n      .isRequired,\n  };\n\n  state = {\n    actualPage: 0,\n  };\n\n  componentDidMount() {\n    const { history, location } = this.props;\n    const linkIndex = this.parsedItmes(this.props);\n    if (!linkIndex) {\n      return history.push({ pathname: location.pathname, search: 'link=1' });\n    }\n    return this.setState({ actualPage: linkIndex });\n  }\n\n  componentDidUpdate(prevProps) {\n    const linkIndex = this.parsedItmes(this.props);\n    const linkPrevIndex = this.parsedItmes(prevProps);\n    if (linkIndex !== linkPrevIndex) {\n      this.setState({\n        actualPage: linkIndex - 1,\n      });\n    }\n  }\n\n  parsedItmes = props => Number(queryString.parse(props.location.search).link);\n\n  handlePage = event => {\n    const { name } = event.target;\n    const { location, history } = this.props;\n\n    const navigate = () => {\n      return history.push({\n        ...location,\n        pathname: '/reader',\n        search: `link=${this.state.actualPage + 1}`,\n      });\n    };\n\n    this.setState(\n      prevState => ({\n        actualPage:\n          name === 'previous'\n            ? prevState.actualPage - 1\n            : prevState.actualPage + 1,\n      }),\n      navigate,\n    );\n  };\n\n  render() {\n    const { actualPage } = this.state;\n\n    return (\n      <div className={style.reader}>\n        <Publication publications={publications[actualPage]} />\n        <Counter actualPage={actualPage + 1} length={publications.length} />\n        <Controls\n          actualPage={actualPage}\n          handlePage={this.handlePage}\n          length={publications.length}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Reader from '../Reader/Reader';\n\nconst App = () => (\n  <Switch>\n    <Route path=\"/reader\" component={Reader} />\n    <Route path=\"/:random\">\n      <Redirect to=\"/reader\" component={Reader} />\n    </Route>\n    <Redirect exact from=\"/\" to=\"/reader\" component={Reader} />\n  </Switch>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App/App';\nimport './style.css';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2_H3N\",\"button\":\"Controls_button__1Lzwl\"};"],"sourceRoot":""}